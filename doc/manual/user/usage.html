<!DOCTYPE html>
<html lang="en">
<!-- ===================================================================
Users' Manual of SiardCmd: Usage
Application: SIARD Suite 2.1
Platform   : HTML5
========================================================================
Copyright  : Enter AG, Joweid Zentrum 1, 8036 RÃ¼ti ZH, Switzerland, 2018
==================================================================== -->
  <head>
    <title>SiardCmd - Users' Manual - Usage</title>
    <!-- character set -->
    <meta charset="utf-8" />
    <!-- Icon -->
    <link rel="icon" type="image/gif" href="../assets/img/icon.gif" />
    <!-- Global style sheet -->
    <link rel="stylesheet" href="../assets/css/admin.css">
    <link rel="stylesheet" href="../assets/css/print.css">
    <link rel="stylesheet" href="../assets/css/siard.css" />
  </head>
  <body>

    <div class="container container-main">
      <header>
        <div class="clearfix">
          <div class="table-row">
            <span class="header-logo">
              <img src="../assets/img/swiss.svg" onerror="this.onerror=null; this.src='../assets/img/swiss.png'" alt="Confederatio Helvetica" />
            </span>
            <h1 class="header-title">SiardCmd - Users' Manual</h1>
          </div>
        </div>
      </header>
      
      <div class="nav-main navbar" id="main-navigation"></div>
    
      <div class="container-fluid hidden-xs">
        <div class="row">
          <div class="col-sm-12">
            <h2 id="br1" class="hidden">Breadcrumbs</h2>
            <ol class="breadcrumb" role="navigation" aria-labelledby="br1">
              <li><a href="./index.html">SiardCmd - Users' Manual</a><span class="icon icon--greater"></span></li>
              <li class="active" aria-selected="true">Usage</li>
            </ol>
          </div>
        </div>
      </div>

      <div class="container-fluid">
        <div class="row">
          <div class="col-sm-12 main-column" id="content" role="main">
            <div class="contentHead">
              <div class="mod mod-contentpage">
                <h1>SiardCmd - Users' Manual - Usage</h1>
              </div>
            </div>  
            <div class="mod mod-text">
              <section class="clearfix">
                <h2>Usage</h2>
                <p><em>SiardCmd implements the two command-line applications 
                  <em>SiardFromDb</em> and <em>SiardToDb</em>.</em>
                <h3><em>SiardFromDb</em></h3>
                <p><em>SiardFromDb</em> is started by running <em>siardfromdb.cmd</em> (for Windows) 
                  or <em>siardfromdb.sh</em> (for LINUX) or explicitly starting 
                  it using the appropriate JAVA executable.</p>
                <pre>siardfromdb.cmd &lt;arguments&gt;,
siardfromdb.sh &lt;arguments&gt;, or
java -cp &lt;siardpath&gt;/lib/siardcmd.jar ch.admin.bar.siard2.cmd.SiardFromDb &lt;arguments&gt;</pre>
                <p>where <em>&lt;siardpath&gt;</em> refers to the installation folder 
                  of <em>SiardCmd</em> and <em>&lt;arguments&gt;</em> refers to 
                  the following arguments that can be specified on the command-line:</p>
                <pre>[-h][-o][-q=&lt;query timeout&gt;]
 [-i=&lt;import xml&gt;] [-x=&lt;lob folder&gt;] [-m=&lt;mime type&gt;] [-e=&lt;export xml&gt;]
 -j=&lt;JDBC URL&gt; -u=&lt;database user&gt; -p=&lt;database password&gt; -s=&lt;siard file&gt;</pre>
                  
                <p>The square brackets indicate that the argument is optional.</p>
                
                <table>
                 <thead>
                   <tr><th>argument</th><th>meaning</th></tr>
                 <thead>
                 <tbody>
                   <tr><td valign="top">-h (help)</td><td>will display a short usage notice explaining the arguments.</td></tr>
                   <tr><td valign="top">-o (overwrite)</td><td>specifies that the &lt;siard file&gt; and &lt;export xml&gt; specified may be overwritten.</td></tr>
                   <tr><td valign="top">&lt;query timeout&gt;</td><td>indicates the maximum waiting time for the reaction of the database to a query in seconds. The default value is 75. Enter 0 for an infinite timeout.</td></tr>
                   <tr><td valign="top">&lt;import xml&gt;</td><td>specifies a metadata XML template holding prepared comments to be added.</td></tr>
                   <tr><td valign="top">&lt;lob folder&gt;</td><td>specifies the external folder name where the LOB (large object) cells content of the largest LOB column is to be stored. If this optional argument is omitted, all database content is stored inside the SIARD file.</td></tr>
                   <tr><td valign="top">&lt;mime type&gt;</td><td>gives the MIME type of the content of the externally stored LOB cells (influences choice of file extension).</td></tr>
                   <tr><td valign="top">&lt;export xml&gt;</td><td>specifies a storage location for the metadata XML resulting from the archival.</td></tr>
                   <tr><td valign="top">&lt;JDBC URL&gt;</td><td>Specifies the JDBC URL of the database instance to be archived. E.g.
                     <dl>
                       <dt>for <em>Microsoft Access</em></dt>
                         <dd><em>jdbc:access:D:/dbfolder/testdb.accdb</em></dd>
                       <dt>for <em>DB/2</em></dt>
                         <dd><em>jdbc:dbserver.enterag.ch:50000/testdb</em></dd>
                       <dt>for <em>H2 database</em></dt>
                         <dd><em>jdbc:h2:D:/dbfolder/testdb</em></dd>
                       <dt>for <em>MySQL</em></dt>
                         <dd><em>jdbc:mysql://dbserver.enterag.ch:3306/testdb</em></dd>
                       <dt>for <em>Oracle</em></dt>
                         <dd><em>jdbc:oracle:thin:@dbserver.enterag.ch:1521:orcl</em></dd>
                       <dt>for SQL Server</dt>
                         <dd><em>jdbc:sqlserver://dbserver.enterag.ch\testdb:1433</em><br/>
                           (in bash shell the latter must be quoted with duplicated backslash:<br/>
                           <em>"jdbc:sqlserver://dbserver.enterag.ch\\testdb:1433"</em>)</dd>
                     </dl>
                   </td></tr>
                   <tr><td valign="top">&lt;database user&gt;</td><td>Database user for archiving. (N.B.: Make sure this user only has access to the data you want to archive. Avoid using database administrators with rights to everything.)</td></tr>
                   <tr><td valign="top">&lt;database password&gt;</td><td>Password for database user</td></tr>
                   <tr><td valign="top">&lt;siard file&gt;</td><td>Name of the SIARD file where the archived database is to be stored.</td></tr>
                 </tbody>
               </table>
               
               
                <p class="pull-right">
                  <small><a href="#" class="icon icon--before icon--power hidden-print">Top of page</a></small>
                </p>
                
                <h3><em>SiardToDb</em></h3>
                <p><em>SiardToDb</em> is started by running <em>siardtodb.cmd</em>
                  (for Windows) or <em>siardtodb.sh</em> (for LINUX) or 
                  explicitly starting it using the appropriate JAVA executable.</p>
                <pre>siardtodb.cmd &lt;arguments&gt;,
siardtodb.sh &lt;arguments&gt;, or
java -cp &lt;siardpath&gt;/lib/siardcmd.jar ch.admin.bar.siard2.cmd.SiardToDb &lt;arguments&gt;</pre>
                <p>where &lt;siardpath&gt; refers to the installation folder of 
                  <em>SiardCmd</em> and &lt;arguments&gt; refers to the following 
                  arguments that can be specified on the command-line:</p>
                <pre>[-h][-o][-q=&lt;query timeout&gt;]
 -s=&lt;siard file&gt; -j=&lt;JDBC URL&gt; -u=&lt;database user&gt; -p=&lt;database password&gt;
 [&lt;schema&gt; &lt;mappedschema&gt;]*</pre>
                <p>The square brackets indicate that the argument is optional. 
                  The asterisk after the last bracket indicates that any number of schema mappings may follow.</p>
                  
                <table>
                 <thead>
                   <tr><th>argument</th><th>meaning</th></tr>
                 <thead>
                 <tbody>
                   <tr><td valign="top">-h (help)</td><td>will display a short usage notice explaining the arguments.</td></tr>
                   <tr><td valign="top">-o (overwrite)</td><td>specifies that UDTs and tables in the target database may be overwritten with types and tables from the SIARD file.</td></tr>
                   <tr><td valign="top">&lt;query timeout&gt;</td><td>indicates the maximum waiting time for the reaction of the database to a query in seconds. The default value is 75. Enter 0 for an infinite timeout.</td></tr>
                   <tr><td valign="top">&lt;siard file&gt;</td><td>Name of the SIARD file where the archived database is stored.</td></tr>
                   <tr><td valign="top">&lt;JDBC URL&gt;</td><td>Specifies the JDBC URL of the database instance where the archived database is to be loaded. E.g.
                     <dl>
	                     <dt>for <em>Microsoft Access</em></dt>
	                       <dd><em>jdbc:access:D:/dbfolder/testdb.accdb</em></dd>
	                     <dt>for <em>DB/2</em></dt>
	                       <dd><em>jdbc:dbserver.enterag.ch:50000/testdb</em></dd>
	                     <dt>for <em>H2 database</em></dt>
	                       <dd><em>jdbc:h2:D:/dbfolder/testdb</em></dd>
	                     <dt>for <em>MySQL</em></dt>
	                       <dd><em>jdbc:mysql://dbserver.enterag.ch:3306/testdb</em></dd>
	                     <dt>for <em>Oracle</em></dt>
	                       <dd><em>jdbc:oracle:thin:@dbserver.enterag.ch:1521:orcl</em></dd>
	                     <dt>for <em>SQL Server</em></dt>
	                       <dd><em>jdbc:sqlserver://dbserver.enterag.ch\testdb:1433</em><br/>
	                         (in bash shell the latter must be quoted with duplicated backslash:<br/>
	                          <em>"jdbc:sqlserver://dbserver.enterag.ch\\testdb:1433"</em>)</dd>
                     </dl>
                   </td></tr>
                   <tr><td valign="top">&lt;database user&gt;</td><td>Database user for upload. (N.B.: Make sure this user has the right to create types and tables in the mapped schemas.)</td></tr>
                   <tr><td valign="top">&lt;database password&gt;</td><td>Password for database user</td></tr>
                   <tr><td valign="top">&lt;schema&gt;</td><td>Schema name in SIARD file</td></tr>
                   <tr><td valign="top">&lt;mapped schema&gt;</td><td>Schema name to be used in database.</td>
                 </tbody>
               </table>
                
                <p class="pull-right">
                  <small><a href="#" class="icon icon--before icon--power hidden-print">Top of page</a></small>
                </p>
                
                <h3>No GUI for <em>SiardCmd</em></h3>
                <p><em>SiardCmd</em> implements command-line utilities for
                  downloading and uploading relational databases in SIARD Format 2.1
                  from and to an instance of a relational database without a graphical user interface (GUI).
                  The project <em>SiardGui</em> implements such a GUI for
                  the functionality implemented by <em>SiardCmd</em>. In addition
                  it permits editing the meta data in the SIARD files.</p>
                   
                <p>The command-line programs of <em>SiardCmd</em> can be used 
                  in scripts. Therefore it is published as a separate
                  stand-alone project.</p> 

                <p class="pull-right">
                  <small><a href="#" class="icon icon--before icon--power hidden-print">Top of page</a></small>
                </p>
                
              </section>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="container-fluid">
          <hr class="footer-line">
          <img src="../assets/img/logo-CH.svg" onerror="this.onerror=null; this.src='../assets/img/logo-CH.png'" />
          <h1 class="hidden-xs">Swiss Federal Archives</h1>
          <p class=pull-right><a href="../../../LICENSE.txt">License</a></p>
        </div>
      </footer>
    </div>
  </body>
</html>
